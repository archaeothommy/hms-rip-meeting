<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.25">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>HMS Research in Progress Meeting 2025 – ![Logo HMS](https://historicalmetallurgy.org/media/gwzj2xtf/logo120.png?format=webp){height=60px}</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./favicon.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-7b89279ff1a6dce999919e0e67d4d9ec.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-20f678538ee4fe51ddef5faaf4314817.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="floating nav-fixed slimcontent quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="./index.html" class="navbar-brand navbar-brand-logo">
    </a>
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title"><img src="https://historicalmetallurgy.org/media/gwzj2xtf/logo120.png?format=webp" height="60" alt="Logo HMS"></span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link active" href="./index.html" aria-current="page"> 
<span class="menu-text">Research in Progress Meeting 2025<br> 28 November 2025 | online</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://forms.gle/4WL3oqG4vHh1F7ti7"> 
<span class="menu-text">Submit Abstract</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://forms.gle/dzQemocN3TtX6LhF7"> 
<span class="menu-text">Register</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="./abstracts.html"> 
<span class="menu-text">Abstract<br>repository</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./archive.html"> 
<span class="menu-text">Archive</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./about.html"> 
<span class="menu-text">About</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#research-in-progress-meeting-2025" id="toc-research-in-progress-meeting-2025" class="nav-link active" data-scroll-target="#research-in-progress-meeting-2025">Research in Progress Meeting 2025</a>
  <ul class="collapse">
  <li><a href="#announcement" id="toc-announcement" class="nav-link" data-scroll-target="#announcement">Announcement <!-- Call for Papers--></a></li>
  <li><a href="#programme" id="toc-programme" class="nav-link" data-scroll-target="#programme">Programme</a></li>
  <li><a href="#code-of-conduct" id="toc-code-of-conduct" class="nav-link" data-scroll-target="#code-of-conduct">Code of conduct</a></li>
  <li><a href="#contact" id="toc-contact" class="nav-link" data-scroll-target="#contact">Contact</a></li>
  </ul></li>
  </ul>
</nav>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar"><div class="quarto-margin-header"><div class="margin-header-item">
<div class="callout callout-style-simple callout-none no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">None</span>Join HMS!
</div>
</div>
<div class="callout-body-container callout-body">
<p>Not a member yet? Help us to provide these and other services to the community by <a href="https://historicalmetallurgy.org/join-or-renew/">joining HMS</a>.</p>
</div>
</div>
<div class="callout callout-style-simple callout-none no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">None</span>More about HMS
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><a href="https://historicalmetallurgy.org/">HMS webpage</a><br>
</li>
<li><a href="https://www.facebook.com/profile.php?id=61552794191692">HMS on Facebook</a><br>
</li>
<li>Read the newsletter <a href="https://historicalmetallurgy.org/publications/the-crucible/">The Crucible</a><br>
</li>
<li>Read the journal <a href="https://www.hmsjournal.org/">Historical Metallurgy</a></li>
</ul>
</div>
</div>
</div></div>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block"></header>




<section id="research-in-progress-meeting-2025" class="level1 page-columns page-full">
<h1>Research in Progress Meeting 2025</h1>
<div class="callout callout-style-default callout-important no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Important</span>Important dates
</div>
</div>
<div class="callout-body-container callout-body">
<p><del>15 September – Abstract submission and registration opens</del><br>
<del>15 October – Deadline for <a href="https://forms.gle/4WL3oqG4vHh1F7ti7">abstracts</a> (there won’t be any extension!)</del><br>
<del>19 October – Announcement of abstracts decisions</del><br>
<del>01 November – Announcement of programme</del><br>
24 November – Deadline for <a href="https://forms.gle/dzQemocN3TtX6LhF7">registration</a><br>
26 November – Reminder with meeting details sent to participants<br>
28 November – Research in Progress Meeting<br>
7 December – Attendance certificates sent to presenters</p>
</div>
</div>
<section id="announcement" class="level2">
<h2 class="anchored" data-anchor-id="announcement">Announcement <!-- Call for Papers--></h2>
<p>The Research in Progress Meeting 2025 of the <a href="https://historicalmetallurgy.org/">Historical Metallurgy Society</a> will take place online on Friday, 28<sup>th</sup> of November. It provides a forum for everyone working on topics related to ancient and historical metallurgical practices, the past use of metal objects, and related fields. We are keen to learn more about your ongoing or recently finished projects! The meeting aims to foster links between the different disciplines and geographical regions. Therefore, we particularly encourage submissions from early career researchers, contract archaeologists/conservators, and colleagues from outside Europe. There will be an HMS prize for the best student presentation.</p>
<!--
Abstracts (up to 200 words) can be submitted until 1^st^ of October via the [submission form](https://forms.gle/4WL3oqG4vHh1F7ti7). Please note that there won't be an extension of the submission deadline. 

Presentations can be either 6 min or 15 min long (with time for questions added). We encourage all presenters to take full advantage of the flexibility a virtual event provides and present their project in a way that suits them and their project best. Pre-recorded contribution are possible but the presenter must be present in the meeting to answer any questions. Presentations will be scheduled in a way that considers the different presenter’s time zones. -->
<p>The event is open for everyone irrespective of their HMS membership status. Participation is free of charge. Please register for the event between 1<sup>st</sup> of September and 24<sup>th</sup> of November using the <a href="https://forms.gle/dzQemocN3TtX6LhF7">registration form</a>. The link to the meeting room will be displayed once you successfully registered.</p>
<!-- The programme and any updates will be announced here and circulated by email. -->
<p>Please contact Thomas Rose (<a href="mailto:roseth@posteo.com" class="email">roseth@posteo.com</a>) for any questions and general inquiries.</p>
<p>We are looking forward to seeing you in November!</p>
</section>
<section id="programme" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="programme">Programme</h2>
<div class="page-columns page-full"><p></p><div class="no-row-height column-margin column-container"><span class="margin-aside">Time zone conversions:<br>
Eastern Time (USA) = UK -5<br>
Central Europe = UK +1<br>
India = UK +5:30<br>
Japan = UK +9<br>
You can convert to your local time zone with, e.g., <a href="https://www.timeanddate.com/worldclock/converter.html?iso=20251128T100000&amp;p1=136">timeanddate.com</a></span></div></div>
<p>Presentations will be 15 min + 5 min discussion or 6 min + 4 min discussion.</p>
<p>Abstracts can be found in the <a href="./abstracts.html">abstract repository</a> or <a href="assets/HMS-RiP2025_Abstracts.pdf">downloaded as pdf</a>.</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Time (UK)</th>
<th>Contribution</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>10:00</td>
<td>Welcome</td>
</tr>
<tr class="even">
<td>10:10</td>
<td>Sébastien Clouet: <br> <a href="./abstracts/2025-1.html">Bồng Miêu Gold Mine: Technological evolution and colonial adaptation in Southeast Asia</a></td>
</tr>
<tr class="odd">
<td>10:30</td>
<td>Skand Manjul, Arvin Manjul &amp; Sanjay Kr Manjul: <br> <a href="./abstracts/2025-2.html">Weapons, Rituals, and the Making of a Warrior Society? A Use-Wear Assessment of Swords and Associated Artefacts with Weapon Function and Social Identity of Sinauli</a></td>
</tr>
<tr class="even">
<td>10:50</td>
<td>Sabikun Naher, Pranab K. Chattopadhyay &amp; Jesmin Nahar Jhumur: <br> <a href="./abstracts/2025-3.html">Metallurgy and Firepower: A Technological Overvie of Iron Cannonry in Medieval Bengal</a></td>
</tr>
<tr class="odd">
<td>11:00</td>
<td>Peter King: <br> <a href="./abstracts/2025-4.html">British Gunfounding after the Weald</a></td>
</tr>
<tr class="even">
<td>11:20</td>
<td>Rowan Taylor: <br> <a href="./abstracts/2025-5.html">On the constructional detail of the type 2 mediaeval anchor from Ladby, Denmark</a></td>
</tr>
<tr class="odd">
<td>11:40</td>
<td><em>Break</em></td>
</tr>
<tr class="even">
<td>12:10</td>
<td>Nayanathara S &amp; Suhash Ranjan Dey: <br> <a href="./abstracts/2025-7.html">Exploring Ancient Indian Panchadhatu and Ashtadhatu-Making Traditions as Prototypes of Modern High Entropy Alloys</a></td>
</tr>
<tr class="odd">
<td>12:30</td>
<td>Kutsi Akcicek, Jiaxu Zuo, Heather Viles &amp; Sinan Acikgoz: <br> <a href="./abstracts/2025-8.html">Investigating Failure Mechanisms in Archaeological and Modern Wrought Irons</a></td>
</tr>
<tr class="even">
<td>12:50</td>
<td>Omid Oudbashi &amp; Russell Wanhill: <br> <a href="./abstracts/2025-9.html">Iranian Copper Alloys Archaeometallurgy, Corrosion, and Cultural Heritage Management</a></td>
</tr>
<tr class="odd">
<td>13:10</td>
<td>John Strachan: <br> <a href="./abstracts/2025-10.html">Metallographic and Neutron Analysis of EBA metalworking traditions</a></td>
</tr>
<tr class="even">
<td>13:20</td>
<td>Silvester PM Baba &amp; Mwayi Woyamba Lusaka: <br> <a href="./abstracts/2025-11.html">The preservation and conservation of Phopo hill, an archaeometallurgical site in Rumphi, Malawi</a></td>
</tr>
<tr class="odd">
<td>13:40</td>
<td>Ivan Stepanov, Hüseyin Öztürk, Michael Brauns, Ernst Pernicka, Nurullah Hanilçi &amp; Ümit Güder: <br> <a href="./abstracts/2025-12.html">First insights into the origin of iron in eastern Cilicia during the Iron Age, using osmium isotope and trace element analysis</a></td>
</tr>
<tr class="even">
<td>14:00</td>
<td><em>Break</em></td>
</tr>
<tr class="odd">
<td>14:40</td>
<td>Hailay Atsbha: <br> <a href="./abstracts/2025-14.html">The Spatial Distribution of Iron slag Evidence Sites in Northern Ethiopia (Tigray)</a></td>
</tr>
<tr class="even">
<td>15:00</td>
<td>Michael Lebsak, Michal Hlavica &amp; Roman Mikulec: <br> <a href="./abstracts/2025-15.html">Potential of Technical Ceramics for Studying the Iron Metallurgical Chaîne Opératoire: Selected Medieval Case Studies from southern Moravia, Czech Republic</a></td>
</tr>
<tr class="odd">
<td>15:20</td>
<td>Tomáš Kroupa: <br> <a href="./abstracts/2025-16.html">The Archaeology of Ironworking Landscape: The Case Study of Brdy Mountains, the Czech Republic</a></td>
</tr>
<tr class="even">
<td>15:40</td>
<td>Ilaria Calgaro: <br> <a href="./abstracts/2025-17.html">Metal production in the 2nd millennium BC Eurasian Steppe: An update of research</a></td>
</tr>
<tr class="odd">
<td>16:00</td>
<td>Ryan Edward Peterson: <br> <a href="./abstracts/2025-18.html">Paths of Production: Spatial and Experimental Investigations of Native Copper Working In North America’s Native Copper Industry</a></td>
</tr>
<tr class="even">
<td>16:20</td>
<td>Awards announcement, closing</td>
</tr>
</tbody>
</table>
</section>
<section id="code-of-conduct" class="level2">
<h2 class="anchored" data-anchor-id="code-of-conduct">Code of conduct</h2>
<p>All participants at the Research in Progress Meetings agree to conduct themselves in a professional and appropriate manner and to ensure that all can enjoy a harassment-free event. The workshop organisers are dedicated to providing an inclusive, respectful, safe, friendly, and welcoming online meeting for all participants.</p>
<p>We do not tolerate disruptive or disrespectful behaviour, personal messages, images, or interactions by any participant, in any form, at any aspect of the program including business and social activities, regardless of location.</p>
<p>Photography, video, recording or screen-captures of session content or presentations in any format are prohibited unless this right is granted on the slides of the respective presentation. We encourage everyone to assist in creating a welcoming and safe environment.</p>
<p>If a participant engages in harassing behaviour, the event organisers may take any action they deem appropriate, including warning the offender and/or expulsion from the event. If you are being harassed, if you notice that someone else is being harassed, or have any other concerns, please contact one of the organisers immediately.</p>
<p>We value your attendance and want the Research in Progress Meeting 2024 to be a safe place for everybody.</p>
</section>
<section id="contact" class="level2">
<h2 class="anchored" data-anchor-id="contact">Contact</h2>
<p>Please write <a href="roseth@posteo.com">Thomas Rose</a> for any inquiries about the meeting.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/archaeothommy\.github\.io\/hms-rip-meeting\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
            // target, if specified
            link.setAttribute("target", "_blank");
            if (link.getAttribute("rel") === null) {
              link.setAttribute("rel", "noopener");
            }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>